/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var xe=Object.defineProperty;var Nt=Object.getOwnPropertyDescriptor;var Ft=Object.getOwnPropertyNames;var At=Object.prototype.hasOwnProperty;var Lt=(i,e)=>{for(var t in e)xe(i,t,{get:e[t],enumerable:!0})},Vt=(i,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Ft(e))!At.call(i,n)&&n!==t&&xe(i,n,{get:()=>e[n],enumerable:!(s=Nt(e,n))||s.enumerable});return i};var _t=i=>Vt(xe({},"__esModule",{value:!0}),i);var $t={};Lt($t,{default:()=>ke});module.exports=_t($t);var Et=require("obsidian");var b=require("obsidian");var Ve={de:"Deutsch",en:"English",es:"Espa\xF1ol",fr:"Fran\xE7ais",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",th:"\u0E44\u0E17\u0E22",vi:"Ti\u1EBFng Vi\u1EC7t","zh-CN":"\u7B80\u4F53\u4E2D\u6587","zh-TW":"\u7E41\u9AD4\u4E2D\u6587"},_e={de:{days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],daysShort:["So","Mo","Di","Mi","Do","Fr","Sa"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],titleFormat:"MM y",format:"dd.mm.yyyy"},en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],titleFormat:"MM y",format:"mm/dd/yyyy"},es:{days:["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"],daysShort:["Dom","Lun","Mar","Mi\xE9","Jue","Vie","S\xE1b"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],titleFormat:"MM y",format:"dd/mm/yyyy"},fr:{days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],daysShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],daysMin:["d","l","ma","me","j","v","s"],months:["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"],monthsShort:["janv.","f\xE9vr.","mars","avril","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],titleFormat:"MM y",format:"dd/mm/yyyy"},it:{days:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Gioved\xEC","Venerd\xEC","Sabato"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],titleFormat:"MM y",format:"dd/mm/yyyy"},ja:{days:["\u65E5\u66DC","\u6708\u66DC","\u706B\u66DC","\u6C34\u66DC","\u6728\u66DC","\u91D1\u66DC","\u571F\u66DC"],daysShort:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"],daysMin:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"],months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],titleFormat:"y\u5E74mm\u6708",format:"yyyy/mm/dd"},ko:{days:["\uC77C\uC694\uC77C","\uC6D4\uC694\uC77C","\uD654\uC694\uC77C","\uC218\uC694\uC77C","\uBAA9\uC694\uC77C","\uAE08\uC694\uC77C","\uD1A0\uC694\uC77C"],daysShort:["\uC77C","\uC6D4","\uD654","\uC218","\uBAA9","\uAE08","\uD1A0"],daysMin:["\uC77C","\uC6D4","\uD654","\uC218","\uBAA9","\uAE08","\uD1A0"],months:["1\uC6D4","2\uC6D4","3\uC6D4","4\uC6D4","5\uC6D4","6\uC6D4","7\uC6D4","8\uC6D4","9\uC6D4","10\uC6D4","11\uC6D4","12\uC6D4"],monthsShort:["1\uC6D4","2\uC6D4","3\uC6D4","4\uC6D4","5\uC6D4","6\uC6D4","7\uC6D4","8\uC6D4","9\uC6D4","10\uC6D4","11\uC6D4","12\uC6D4"],titleFormat:"y\uB144mm\uC6D4",format:"yyyy-mm-dd"},th:{days:["\u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C","\u0E08\u0E31\u0E19\u0E17\u0E23\u0E4C","\u0E2D\u0E31\u0E07\u0E04\u0E32\u0E23","\u0E1E\u0E38\u0E18","\u0E1E\u0E24\u0E2B\u0E31\u0E2A","\u0E28\u0E38\u0E01\u0E23\u0E4C","\u0E40\u0E2A\u0E32\u0E23\u0E4C","\u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C"],daysShort:["\u0E2D\u0E32","\u0E08","\u0E2D","\u0E1E","\u0E1E\u0E24","\u0E28","\u0E2A","\u0E2D\u0E32"],daysMin:["\u0E2D\u0E32","\u0E08","\u0E2D","\u0E1E","\u0E1E\u0E24","\u0E28","\u0E2A","\u0E2D\u0E32"],months:["\u0E21\u0E01\u0E23\u0E32\u0E04\u0E21","\u0E01\u0E38\u0E21\u0E20\u0E32\u0E1E\u0E31\u0E19\u0E18\u0E4C","\u0E21\u0E35\u0E19\u0E32\u0E04\u0E21","\u0E40\u0E21\u0E29\u0E32\u0E22\u0E19","\u0E1E\u0E24\u0E29\u0E20\u0E32\u0E04\u0E21","\u0E21\u0E34\u0E16\u0E38\u0E19\u0E32\u0E22\u0E19","\u0E01\u0E23\u0E01\u0E0E\u0E32\u0E04\u0E21","\u0E2A\u0E34\u0E07\u0E2B\u0E32\u0E04\u0E21","\u0E01\u0E31\u0E19\u0E22\u0E32\u0E22\u0E19","\u0E15\u0E38\u0E25\u0E32\u0E04\u0E21","\u0E1E\u0E24\u0E28\u0E08\u0E34\u0E01\u0E32\u0E22\u0E19","\u0E18\u0E31\u0E19\u0E27\u0E32\u0E04\u0E21"],monthsShort:["\u0E21.\u0E04.","\u0E01.\u0E1E.","\u0E21\u0E35.\u0E04.","\u0E40\u0E21.\u0E22.","\u0E1E.\u0E04.","\u0E21\u0E34.\u0E22.","\u0E01.\u0E04.","\u0E2A.\u0E04.","\u0E01.\u0E22.","\u0E15.\u0E04.","\u0E1E.\u0E22.","\u0E18.\u0E04."],titleFormat:"MM y",format:"yyyy-mm-dd"},vi:{days:["Ch\u1EE7 nh\u1EADt","Th\u1EE9 hai","Th\u1EE9 ba","Th\u1EE9 t\u01B0","Th\u1EE9 n\u0103m","Th\u1EE9 s\xE1u","Th\u1EE9 b\u1EA3y"],daysShort:["CN","Th\u1EE9 2","Th\u1EE9 3","Th\u1EE9 4","Th\u1EE9 5","Th\u1EE9 6","Th\u1EE9 7"],daysMin:["CN","T2","T3","T4","T5","T6","T7"],months:["Th\xE1ng 1","Th\xE1ng 2","Th\xE1ng 3","Th\xE1ng 4","Th\xE1ng 5","Th\xE1ng 6","Th\xE1ng 7","Th\xE1ng 8","Th\xE1ng 9","Th\xE1ng 10","Th\xE1ng 11","Th\xE1ng 12"],monthsShort:["Th1","Th2","Th3","Th4","Th5","Th6","Th7","Th8","Th9","Th10","Th11","Th12"],titleFormat:"MM y",format:"dd/mm/yyyy"},"zh-CN":{days:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],daysShort:["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],daysMin:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],months:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],titleFormat:"y\u5E74mm\u6708",format:"yyyy-mm-dd"},"zh-TW":{days:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],daysShort:["\u9031\u65E5","\u9031\u4E00","\u9031\u4E8C","\u9031\u4E09","\u9031\u56DB","\u9031\u4E94","\u9031\u516D"],daysMin:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],months:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],titleFormat:"y\u5E74mm\u6708",format:"yyyy/mm/dd"}};var We="date-inserter-styles",Be=()=>{let i=document.getElementById(We);i&&document.getElementsByTagName("HEAD")[0].removeChild(i)},He=i=>{let e=document.createElement("style");Wt(e,{type:"text/css",id:We}),document.getElementsByTagName("HEAD")[0].appendChild(e),i.forEach(({selector:s,property:n,value:a})=>{Bt(s,`${n}: ${a}`,e)})},Wt=(i,e)=>{for(let t in e)i.setAttribute(t,e[t])},Bt=(i,e,t)=>{t.textContent+=i+`{${e}}`};var oe={format:"mm/dd/yyyy",format2:"",language:"en",weekStart:0,todayHighlight:!0,daysOfWeekHighlighted:{sun:void 0,mon:void 0,tue:void 0,wed:void 0,thu:void 0,fri:void 0,sat:void 0}},y={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},re=class extends b.PluginSettingTab{constructor(t,s){super(t,s);this._plugin=s}display(){let{containerEl:t}=this;t.empty(),new b.Setting(t).setName("Date format").setDesc("Date format to be inserted.").addText(s=>s.setPlaceholder("mm/dd/yyyy").setValue(this._plugin.settings.format).onChange(async n=>{this._plugin.settings.format=n,await this._plugin.saveSettings()})),t.createDiv("setting-date-format-description",s=>{s.createDiv("").setText("ex1) mm/dd/yyyy => 01/23/2024"),s.createDiv("").setText("ex2) DD mm-dd => Tuesday 01-23"),s.createDiv("").setText("ex3) yyyy.mm.dd(D) => 2024.01.23(Tue)"),s.createDiv("format-details").setText("Please check the link below for format details.");let a=s.createEl("a");a.setText("vanillajs-datepicker > Date String & Format"),a.setAttrs({href:"https://mymth.github.io/vanillajs-datepicker/#/date-string+format"})}),new b.Setting(t).setName("Another date format (Optional)").setDesc('Another date format to be inserted. If set, display buttons to select a format at the bottom of the calendar. Buttons can be selected by clicking or by \u201C1" or \u201C2" shortcut keys.').addText(s=>s.setPlaceholder("mm/dd/yyyy").setValue(this._plugin.settings.format2).onChange(async n=>{this._plugin.settings.format2=n,await this._plugin.saveSettings(),this.updateStyleSheet()})),new b.Setting(t).setName("Language").setDesc("Set calendar and date-related languages.").addDropdown(s=>s.addOptions(Ve).setValue(this._plugin.settings.language).onChange(async n=>{this._plugin.settings.language=n,await this._plugin.saveSettings()})),new b.Setting(t).setName("Week start").setDesc("Start day of the week.").addDropdown(s=>s.addOptions({[y.sun]:"Sunday",[y.mon]:"Monday",[y.tue]:"Tuesday",[y.wed]:"Wednesday",[y.thu]:"Thursday",[y.fri]:"Friday",[y.sat]:"Saturday"}).setValue(`${this._plugin.settings.weekStart}`).onChange(async n=>{this._plugin.settings.weekStart=parseInt(n,10)||y.sun,await this._plugin.saveSettings()})),new b.Setting(t).setName("Highlight the today").setDesc("Whether to highlight the today.").addToggle(s=>s.setValue(this._plugin.settings.todayHighlight).onChange(async n=>{this._plugin.settings.todayHighlight=n,await this._plugin.saveData(this._plugin.settings)})),new b.Setting(t).setName("Highlight days of week").setDesc("Days of the week to highlight in the calendar."),t.createDiv("setting-day-of-week",s=>{new b.Setting(s).setDesc("Sunday").addToggle(n=>n.setValue(this._plugin.settings.daysOfWeekHighlighted.sun===y.sun).onChange(async a=>{this._plugin.settings.daysOfWeekHighlighted.sun=a?y.sun:void 0,await this._plugin.saveSettings()})),new b.Setting(s).setDesc("Monday").addToggle(n=>n.setValue(this._plugin.settings.daysOfWeekHighlighted.mon===y.mon).onChange(async a=>{this._plugin.settings.daysOfWeekHighlighted.mon=a?y.mon:void 0,await this._plugin.saveSettings()})),new b.Setting(s).setDesc("Tuesday").addToggle(n=>n.setValue(this._plugin.settings.daysOfWeekHighlighted.tue===y.tue).onChange(async a=>{this._plugin.settings.daysOfWeekHighlighted.tue=a?y.tue:void 0,await this._plugin.saveSettings()})),new b.Setting(s).setDesc("Wednesday").addToggle(n=>n.setValue(this._plugin.settings.daysOfWeekHighlighted.wed===y.wed).onChange(async a=>{this._plugin.settings.daysOfWeekHighlighted.wed=a?y.wed:void 0,await this._plugin.saveSettings()})),new b.Setting(s).setDesc("Thursday").addToggle(n=>n.setValue(this._plugin.settings.daysOfWeekHighlighted.thu===y.thu).onChange(async a=>{this._plugin.settings.daysOfWeekHighlighted.thu=a?y.thu:void 0,await this._plugin.saveSettings()})),new b.Setting(s).setDesc("Friday").addToggle(n=>n.setValue(this._plugin.settings.daysOfWeekHighlighted.fri===y.fri).onChange(async a=>{this._plugin.settings.daysOfWeekHighlighted.fri=a?y.fri:void 0,await this._plugin.saveSettings()})),new b.Setting(s).setDesc("Saturday").addToggle(n=>n.setValue(this._plugin.settings.daysOfWeekHighlighted.sat===y.sat).onChange(async a=>{this._plugin.settings.daysOfWeekHighlighted.sat=a?y.sat:void 0,await this._plugin.saveSettings()}))})}updateStyleSheet(t=!1){if(Be(),t)return;let{format2:s}=this._plugin.settings;He([{selector:".modal.date-inserter-modal",property:"height",value:`calc(388px + ${s?"2.5rem":"0px"})`}])}};var be=require("obsidian");function J(i){return i[i.length-1]}function A(i,...e){return e.forEach(t=>{i.includes(t)||i.push(t)}),i}function Se(i,e){return i?i.split(e):[]}function $(i,e,t){let s=e===void 0||i>=e,n=t===void 0||i<=t;return s&&n}function de(i,e,t){return i<e?e:i>t?t:i}function E(i,e,t={},s=0,n=""){let a=Object.keys(t).reduce((o,l)=>{let d=t[l];return typeof d=="function"&&(d=d(s)),`${o} ${l}="${d}"`},i);n+=`<${a}></${i}>`;let r=s+1;return r<e?E(i,e,t,r,n):n}function G(i){return i.replace(/>\s+/g,">").replace(/\s+</,"<")}function le(i){return new Date(i).setHours(0,0,0,0)}function C(){return new Date().setHours(0,0,0,0)}function N(...i){switch(i.length){case 0:return C();case 1:return le(i[0])}let e=new Date(0);return e.setFullYear(...i),e.setHours(0,0,0,0)}function I(i,e){let t=new Date(i);return t.setDate(t.getDate()+e)}function Ie(i,e){return I(i,e*7)}function R(i,e){let t=new Date(i),s=t.getMonth()+e,n=s%12;n<0&&(n+=12);let a=t.setMonth(s);return t.getMonth()!==n?t.setDate(0):a}function W(i,e){let t=new Date(i),s=t.getMonth(),n=t.setFullYear(t.getFullYear()+e);return s===1&&t.getMonth()===2?t.setDate(0):n}function Ye(i,e){return(i-e+7)%7}function _(i,e,t=0){let s=new Date(i).getDay();return I(i,Ye(e,t)-Ye(s,t))}function Re(i,e){return Math.round((i-e)/6048e5)+1}function Pe(i){let e=_(i,4,1),t=_(new Date(e).setMonth(0,4),4,1);return Re(e,t)}function je(i,e){let t=_(new Date(i).setMonth(0,1),e,e),s=_(i,e,e),n=Re(s,t);if(n<53)return n;let a=_(new Date(i).setDate(32),e,e);return s===a?1:n}function Ke(i){return je(i,0)}function ze(i){return je(i,6)}function P(i,e){let t=new Date(i).getFullYear();return Math.floor(t/e)*e}function O(i,e,t){if(e!==1&&e!==2)return i;let s=new Date(i);return e===1?t?s.setMonth(s.getMonth()+1,0):s.setDate(1):t?s.setFullYear(s.getFullYear()+1,0,0):s.setMonth(0,1),s.setHours(0,0,0,0)}var he=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,Ht=/[\s!-/:-@[-`{-~年月日]+/,Me={},Je={y(i,e){return new Date(i).setFullYear(parseInt(e,10))},m(i,e,t){let s=new Date(i),n=parseInt(e,10)-1;if(isNaN(n)){if(!e)return NaN;let a=e.toLowerCase(),r=o=>o.toLowerCase().startsWith(a);if(n=t.monthsShort.findIndex(r),n<0&&(n=t.months.findIndex(r)),n<0)return NaN}return s.setMonth(n),s.getMonth()!==$e(n)?s.setDate(0):s.getTime()},d(i,e){return new Date(i).setDate(parseInt(e,10))}},Yt={d(i){return i.getDate()},dd(i){return ce(i.getDate(),2)},D(i,e){return e.daysShort[i.getDay()]},DD(i,e){return e.days[i.getDay()]},m(i){return i.getMonth()+1},mm(i){return ce(i.getMonth()+1,2)},M(i,e){return e.monthsShort[i.getMonth()]},MM(i,e){return e.months[i.getMonth()]},y(i){return i.getFullYear()},yy(i){return ce(i.getFullYear(),2).slice(-2)},yyyy(i){return ce(i.getFullYear(),4)}};function $e(i){return i>-1?i%12:$e(i+12)}function ce(i,e){return i.toString().padStart(e,"0")}function Ge(i){if(typeof i!="string")throw new Error("Invalid date format.");if(i in Me)return Me[i];let e=i.split(he),t=i.match(new RegExp(he,"g"));if(e.length===0||!t)throw new Error("Invalid date format.");let s=t.map(a=>Yt[a]),n=Object.keys(Je).reduce((a,r)=>(t.find(l=>l[0]!=="D"&&l[0].toLowerCase()===r)&&a.push(r),a),[]);return Me[i]={parser(a,r){let o=a.split(Ht).reduce((l,d,h)=>{if(d.length>0&&t[h]){let f=t[h][0];f==="M"?l.m=d:f!=="D"&&(l[f]=d)}return l},{});return n.reduce((l,d)=>{let h=Je[d](l,o[d],r);return isNaN(h)?l:h},C())},formatter(a,r){let o=s.reduce((l,d,h)=>l+=`${e[h]}${d(a,r)}`,"");return o+=J(e)}}}function L(i,e,t){if(i instanceof Date||typeof i=="number"){let s=le(i);return isNaN(s)?void 0:s}if(i){if(i==="today")return C();if(e&&e.toValue){let s=e.toValue(i,e,t);return isNaN(s)?void 0:le(s)}return Ge(e).parser(i,t)}}function j(i,e,t){if(isNaN(i)||!i&&i!==0)return"";let s=typeof i=="number"?new Date(i):i;return e.toDisplay?e.toDisplay(s,e,t):Ge(e).formatter(s,t)}var It=document.createRange();function k(i){return It.createContextualFragment(i)}function Oe(i){return i.parentElement||(i.parentNode instanceof ShadowRoot?i.parentNode.host:void 0)}function B(i){return i.getRootNode().activeElement===i}function K(i){i.style.display!=="none"&&(i.style.display&&(i.dataset.styleDisplay=i.style.display),i.style.display="none")}function z(i){i.style.display==="none"&&(i.dataset.styleDisplay?(i.style.display=i.dataset.styleDisplay,delete i.dataset.styleDisplay):i.style.display="")}function Q(i){i.firstChild&&(i.removeChild(i.firstChild),Q(i))}function Ue(i,e){Q(i),e instanceof DocumentFragment?i.appendChild(e):typeof e=="string"?i.appendChild(k(e)):typeof e.forEach=="function"&&e.forEach(t=>{i.appendChild(t)})}var ue=new WeakMap,{addEventListener:Rt,removeEventListener:Pt}=EventTarget.prototype;function U(i,e){let t=ue.get(i);t||(t=[],ue.set(i,t)),e.forEach(s=>{Rt.call(...s),t.push(s)})}function Te(i){let e=ue.get(i);e&&(e.forEach(t=>{Pt.call(...t)}),ue.delete(i))}if(!Event.prototype.composedPath){let i=(e,t=[])=>{t.push(e);let s;return e.parentNode?s=e.parentNode:e.host?s=e.host:e.defaultView&&(s=e.defaultView),s?i(s,t):t};Event.prototype.composedPath=function(){return i(this.target)}}function qe(i,e,t){let[s,...n]=i;if(e(s))return s;if(!(s===t||s.tagName==="HTML"||n.length===0))return qe(n,e,t)}function fe(i,e){let t=typeof e=="function"?e:s=>s instanceof Element&&s.matches(e);return qe(i.composedPath(),t,i.currentTarget)}var q={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}};var ee={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,clearButton:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,enableOnReadonly:!0,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"\xBB",orientation:"auto",pickLevel:0,prevArrow:"\xAB",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayButton:!1,todayButtonMode:0,todayHighlight:!1,updateOnBlur:!0,weekNumbers:0,weekStart:0};var{language:Ce,format:jt,weekStart:Kt}=ee;function Xe(i,e){return i.length<6&&e>=0&&e<7?A(i,e):i}function et(i,e){switch(i===4?e===6?3:!e+1:i){case 1:return Pe;case 2:return Ke;case 3:return ze}}function Ze(i,e,t){return e.weekStart=i,e.weekEnd=(i+6)%7,t===4&&(e.getWeekNumber=et(4,i)),i}function Qe(i,e,t,s){let n=L(i,e,t);return n!==void 0?n:s}function Ee(i,e,t=3){let s=parseInt(i,10);return s>=0&&s<=t?s:e}function me(i,e,t,s=void 0){e in i&&(t in i||(i[t]=s?s(i[e]):i[e]),delete i[e])}function te(i,e){let t=Object.assign({},i),s={},n=e.constructor.locales,a=!!e.rangeSideIndex,{datesDisabled:r,format:o,language:l,locale:d,maxDate:h,maxView:f,minDate:S,pickLevel:m,startView:w,weekNumbers:u,weekStart:D}=e.config||{};if(me(t,"calendarWeeks","weekNumbers",c=>c?1:0),me(t,"clearBtn","clearButton"),me(t,"todayBtn","todayButton"),me(t,"todayBtnMode","todayButtonMode"),t.language){let c;if(t.language!==l&&(n[t.language]?c=t.language:(c=t.language.split("-")[0],n[c]||(c=!1))),delete t.language,c){l=s.language=c;let g=d||n[Ce];d=Object.assign({format:jt,weekStart:Kt},n[Ce]),l!==Ce&&Object.assign(d,n[l]),s.locale=d,o===g.format&&(o=s.format=d.format),D===g.weekStart&&(D=Ze(d.weekStart,s,u))}}if(t.format){let c=typeof t.format.toDisplay=="function",g=typeof t.format.toValue=="function",p=he.test(t.format);(c&&g||p)&&(o=s.format=t.format),delete t.format}let M=m;"pickLevel"in t&&(M=Ee(t.pickLevel,m,2),delete t.pickLevel),M!==m&&(M>m&&("minDate"in t||(t.minDate=S),"maxDate"in t||(t.maxDate=h)),r&&!t.datesDisabled&&(t.datesDisabled=[]),m=s.pickLevel=M);let T=S,v=h;if("minDate"in t){let c=N(0,0,1);T=t.minDate===null?c:Qe(t.minDate,o,d,T),T!==c&&(T=O(T,m,!1)),delete t.minDate}if("maxDate"in t&&(v=t.maxDate===null?void 0:Qe(t.maxDate,o,d,v),v!==void 0&&(v=O(v,m,!0)),delete t.maxDate),v<T?(S=s.minDate=v,h=s.maxDate=T):(S!==T&&(S=s.minDate=T),h!==v&&(h=s.maxDate=v)),t.datesDisabled){let c=t.datesDisabled;if(typeof c=="function")s.datesDisabled=null,s.checkDisabled=(g,p)=>c(new Date(g),p,a);else{let g=s.datesDisabled=c.reduce((p,ve)=>{let Le=L(ve,o,d);return Le!==void 0?A(p,O(Le,m,a)):p},[]);s.checkDisabled=p=>g.includes(p)}delete t.datesDisabled}if("defaultViewDate"in t){let c=L(t.defaultViewDate,o,d);c!==void 0&&(s.defaultViewDate=c),delete t.defaultViewDate}if("weekStart"in t){let c=Number(t.weekStart)%7;isNaN(c)||(D=Ze(c,s,u)),delete t.weekStart}if(t.daysOfWeekDisabled&&(s.daysOfWeekDisabled=t.daysOfWeekDisabled.reduce(Xe,[]),delete t.daysOfWeekDisabled),t.daysOfWeekHighlighted&&(s.daysOfWeekHighlighted=t.daysOfWeekHighlighted.reduce(Xe,[]),delete t.daysOfWeekHighlighted),"weekNumbers"in t){let c=t.weekNumbers;if(c){let g=typeof c=="function"?(p,ve)=>c(new Date(p),ve):et(c=parseInt(c,10),D);g&&(u=s.weekNumbers=c,s.getWeekNumber=g)}else u=s.weekNumbers=0,s.getWeekNumber=null;delete t.weekNumbers}if("maxNumberOfDates"in t){let c=parseInt(t.maxNumberOfDates,10);c>=0&&(s.maxNumberOfDates=c,s.multidate=c!==1),delete t.maxNumberOfDates}t.dateDelimiter&&(s.dateDelimiter=String(t.dateDelimiter),delete t.dateDelimiter);let F=f;"maxView"in t&&(F=Ee(t.maxView,f),delete t.maxView),F=m>F?m:F,F!==f&&(f=s.maxView=F);let x=w;if("startView"in t&&(x=Ee(t.startView,x),delete t.startView),x<m?x=m:x>f&&(x=f),x!==w&&(s.startView=x),t.prevArrow){let c=k(t.prevArrow);c.childNodes.length>0&&(s.prevArrow=c.childNodes),delete t.prevArrow}if(t.nextArrow){let c=k(t.nextArrow);c.childNodes.length>0&&(s.nextArrow=c.childNodes),delete t.nextArrow}if("disableTouchKeyboard"in t&&(s.disableTouchKeyboard="ontouchstart"in document&&!!t.disableTouchKeyboard,delete t.disableTouchKeyboard),t.orientation){let c=t.orientation.toLowerCase().split(/\s+/g);s.orientation={x:c.find(g=>g==="left"||g==="right")||"auto",y:c.find(g=>g==="top"||g==="bottom")||"auto"},delete t.orientation}if("todayButtonMode"in t){switch(t.todayButtonMode){case 0:case 1:s.todayButtonMode=t.todayButtonMode}delete t.todayButtonMode}return Object.entries(t).forEach(([c,g])=>{g!==void 0&&c in ee&&(s[c]=g)}),s}var tt={show:{key:"ArrowDown"},hide:null,toggle:{key:"Escape"},prevButton:{key:"ArrowLeft",ctrlOrMetaKey:!0},nextButton:{key:"ArrowRight",ctrlOrMetaKey:!0},viewSwitch:{key:"ArrowUp",ctrlOrMetaKey:!0},clearButton:{key:"Backspace",ctrlOrMetaKey:!0},todayButton:{key:".",ctrlOrMetaKey:!0},exitEditMode:{key:"ArrowDown",ctrlOrMetaKey:!0}};function Ne(i){return Object.keys(tt).reduce((e,t)=>{let s=i[t]===void 0?tt[t]:i[t],n=s&&s.key;if(!n||typeof n!="string")return e;let a={key:n,ctrlOrMetaKey:!!(s.ctrlOrMetaKey||s.ctrlKey||s.metaKey)};return n.length>1&&(a.altKey=!!s.altKey,a.shiftKey=!!s.shiftKey),e[t]=a,e},{})}var it=i=>i.map(e=>`<button type="button" class="%buttonClass% ${e}" tabindex="-1"></button>`).join(""),st=G(`<div class="datepicker">
  <div class="datepicker-picker">
    <div class="datepicker-header">
      <div class="datepicker-title"></div>
      <div class="datepicker-controls">
        ${it(["prev-button prev-btn","view-switch","next-button next-btn"])}
      </div>
    </div>
    <div class="datepicker-main"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls">
        ${it(["today-button today-btn","clear-button clear-btn"])}
      </div>
    </div>
  </div>
</div>`);var nt=G(`<div class="days">
  <div class="days-of-week">${E("span",7,{class:"dow"})}</div>
  <div class="datepicker-grid">${E("span",42)}</div>
</div>`);var at=G(`<div class="week-numbers calendar-weeks">
  <div class="days-of-week"><span class="dow"></span></div>
  <div class="weeks">${E("span",6,{class:"week"})}</div>
</div>`);var V=class{constructor(e,t){Object.assign(this,t,{picker:e,element:k('<div class="datepicker-view"></div>').firstChild,selected:[],isRangeEnd:!!e.datepicker.rangeSideIndex}),this.init(this.picker.datepicker.config)}init(e){"pickLevel"in e&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}prepareForRender(e,t,s){this.disabled=[];let n=this.picker;n.setViewSwitchLabel(e),n.setPrevButtonDisabled(t),n.setNextButtonDisabled(s)}setDisabled(e,t){t.add("disabled"),A(this.disabled,e)}performBeforeHook(e,t){let s=this.beforeShow(new Date(t));switch(typeof s){case"boolean":s={enabled:s};break;case"string":s={classes:s}}if(s){let n=e.classList;if(s.enabled===!1&&this.setDisabled(t,n),s.classes){let a=s.classes.split(/\s+/);n.add(...a),a.includes("disabled")&&this.setDisabled(t,n)}s.content&&Ue(e,s.content)}}renderCell(e,t,s,n,{selected:a,range:r},o,l=[]){e.textContent=t,this.isMinView&&(e.dataset.date=n);let d=e.classList;if(e.className=`datepicker-cell ${this.cellClass}`,s<this.first?d.add("prev"):s>this.last&&d.add("next"),d.add(...l),(o||this.checkDisabled(n,this.id))&&this.setDisabled(n,d),r){let[h,f]=r;s>h&&s<f&&d.add("range"),s===h&&d.add("range-start"),s===f&&d.add("range-end")}a.includes(s)&&d.add("selected"),s===this.focused&&d.add("focused"),this.beforeShow&&this.performBeforeHook(e,n)}refreshCell(e,t,s,[n,a]){let r=e.classList;r.remove("range","range-start","range-end","selected","focused"),t>n&&t<a&&r.add("range"),t===n&&r.add("range-start"),t===a&&r.add("range-end"),s.includes(t)&&r.add("selected"),t===this.focused&&r.add("focused")}changeFocusedCell(e){this.grid.querySelectorAll(".focused").forEach(t=>{t.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}};var ie=class extends V{constructor(e){super(e,{id:0,name:"days",cellClass:"day"})}init(e,t=!0){if(t){let s=k(nt).firstChild;this.dow=s.firstChild,this.grid=s.lastChild,this.element.appendChild(s)}super.init(e)}setOptions(e){let t;if("minDate"in e&&(this.minDate=e.minDate),"maxDate"in e&&(this.maxDate=e.maxDate),e.checkDisabled&&(this.checkDisabled=e.checkDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,t=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),"todayHighlight"in e&&(this.todayHighlight=e.todayHighlight),"weekStart"in e&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,t=!0),e.locale){let s=this.locale=e.locale;this.dayNames=s.daysMin,this.switchLabelFormat=s.titleFormat,t=!0}if("beforeShowDay"in e&&(this.beforeShow=typeof e.beforeShowDay=="function"?e.beforeShowDay:void 0),"weekNumbers"in e)if(e.weekNumbers&&!this.weekNumbers){let s=k(at).firstChild;this.weekNumbers={element:s,dow:s.firstChild,weeks:s.lastChild},this.element.insertBefore(s,this.element.firstChild)}else this.weekNumbers&&!e.weekNumbers&&(this.element.removeChild(this.weekNumbers.element),this.weekNumbers=null);"getWeekNumber"in e&&(this.getWeekNumber=e.getWeekNumber),"showDaysOfWeek"in e&&(e.showDaysOfWeek?(z(this.dow),this.weekNumbers&&z(this.weekNumbers.dow)):(K(this.dow),this.weekNumbers&&K(this.weekNumbers.dow))),t&&Array.from(this.dow.children).forEach((s,n)=>{let a=(this.weekStart+n)%7;s.textContent=this.dayNames[a],s.className=this.daysOfWeekDisabled.includes(a)?"dow disabled":"dow"})}updateFocus(){let e=new Date(this.picker.viewDate),t=e.getFullYear(),s=e.getMonth(),n=N(t,s,1),a=_(n,this.weekStart,this.weekStart);this.first=n,this.last=N(t,s+1,0),this.start=a,this.focused=this.picker.viewDate}updateSelection(){let{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e,t&&(this.range=t.dates)}render(){if(this.today=this.todayHighlight?C():void 0,this.prepareForRender(j(this.focused,this.switchLabelFormat,this.locale),this.first<=this.minDate,this.last>=this.maxDate),this.weekNumbers){let e=this.weekStart,t=_(this.first,e,e);Array.from(this.weekNumbers.weeks.children).forEach((s,n)=>{let a=Ie(t,n);s.textContent=this.getWeekNumber(a,e),n>3&&s.classList[a>this.last?"add":"remove"]("next")})}Array.from(this.grid.children).forEach((e,t)=>{let s=I(this.start,t),n=new Date(s),a=n.getDay(),r=[];this.today===s&&r.push("today"),this.daysOfWeekHighlighted.includes(a)&&r.push("highlighted"),this.renderCell(e,n.getDate(),s,s,this,s<this.minDate||s>this.maxDate||this.daysOfWeekDisabled.includes(a),r)})}refresh(){let e=this.range||[];Array.from(this.grid.children).forEach(t=>{this.refreshCell(t,Number(t.dataset.date),this.selected,e)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/864e5))}};function rt(i,e){if(!i||!i[0]||!i[1])return;let[[t,s],[n,a]]=i;if(!(t>e||n<e))return[t===e?s:-1,n===e?a:12]}var se=class extends V{constructor(e){super(e,{id:1,name:"months",cellClass:"month"})}init(e,t=!0){t&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(k(E("span",12,{"data-month":s=>s}))),this.first=0,this.last=11),super.init(e)}setOptions(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),"minDate"in e)if(e.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{let t=new Date(e.minDate);this.minYear=t.getFullYear(),this.minMonth=t.getMonth(),this.minDate=t.setDate(1)}if("maxDate"in e)if(e.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{let t=new Date(e.maxDate);this.maxYear=t.getFullYear(),this.maxMonth=t.getMonth(),this.maxDate=N(this.maxYear,this.maxMonth+1,0)}e.checkDisabled&&(this.checkDisabled=this.isMinView||e.datesDisabled===null?e.checkDisabled:()=>!1),"beforeShowMonth"in e&&(this.beforeShow=typeof e.beforeShowMonth=="function"?e.beforeShowMonth:void 0)}updateFocus(){let e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}updateSelection(){let{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((s,n)=>{let a=new Date(n),r=a.getFullYear(),o=a.getMonth();return s[r]===void 0?s[r]=[o]:A(s[r],o),s},{}),t&&t.dates&&(this.range=t.dates.map(s=>{let n=new Date(s);return isNaN(n)?void 0:[n.getFullYear(),n.getMonth()]}))}render(){this.prepareForRender(this.year,this.year<=this.minYear,this.year>=this.maxYear);let e=this.selected[this.year]||[],t=this.year<this.minYear||this.year>this.maxYear,s=this.year===this.minYear,n=this.year===this.maxYear,a=rt(this.range,this.year);Array.from(this.grid.children).forEach((r,o)=>{let l=O(new Date(this.year,o,1),1,this.isRangeEnd);this.renderCell(r,this.monthNames[o],o,l,{selected:e,range:a},t||s&&o<this.minMonth||n&&o>this.maxMonth)})}refresh(){let e=this.selected[this.year]||[],t=rt(this.range,this.year)||[];Array.from(this.grid.children).forEach((s,n)=>{this.refreshCell(s,n,e,t)})}refreshFocus(){this.changeFocusedCell(this.focused)}};function zt(i){return[...i].reduce((e,t,s)=>e+=s?t:t.toUpperCase(),"")}var X=class extends V{constructor(e,t){super(e,t)}init(e,t=!0){t&&(this.navStep=this.step*10,this.beforeShowOption=`beforeShow${zt(this.cellClass)}`,this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(k(E("span",12)))),super.init(e)}setOptions(e){if("minDate"in e&&(e.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=P(e.minDate,this.step),this.minDate=N(this.minYear,0,1))),"maxDate"in e&&(e.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=P(e.maxDate,this.step),this.maxDate=N(this.maxYear,11,31))),e.checkDisabled&&(this.checkDisabled=this.isMinView||e.datesDisabled===null?e.checkDisabled:()=>!1),this.beforeShowOption in e){let t=e[this.beforeShowOption];this.beforeShow=typeof t=="function"?t:void 0}}updateFocus(){let e=new Date(this.picker.viewDate),t=P(e,this.navStep),s=t+9*this.step;this.first=t,this.last=s,this.start=t-this.step,this.focused=P(e,this.step)}updateSelection(){let{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((s,n)=>A(s,P(n,this.step)),[]),t&&t.dates&&(this.range=t.dates.map(s=>{if(s!==void 0)return P(s,this.step)}))}render(){this.prepareForRender(`${this.first}-${this.last}`,this.first<=this.minYear,this.last>=this.maxYear),Array.from(this.grid.children).forEach((e,t)=>{let s=this.start+t*this.step,n=O(new Date(s,0,1),2,this.isRangeEnd);e.dataset.year=s,this.renderCell(e,s,s,n,this,s<this.minYear||s>this.maxYear)})}refresh(){let e=this.range||[];Array.from(this.grid.children).forEach(t=>{this.refreshCell(t,Number(t.textContent),this.selected,e)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/this.step))}};function H(i,e){let t={bubbles:!0,cancelable:!0,detail:{date:i.getDate(),viewDate:new Date(i.picker.viewDate),viewId:i.picker.currentView.id,datepicker:i}};i.element.dispatchEvent(new CustomEvent(e,t))}function Z(i,e){let{config:t,picker:s}=i,{currentView:n,viewDate:a}=s,r;switch(n.id){case 0:r=R(a,e);break;case 1:r=W(a,e);break;default:r=W(a,e*n.navStep)}r=de(r,t.minDate,t.maxDate),s.changeFocus(r).render()}function ge(i){let e=i.picker.currentView.id;e!==i.config.maxView&&i.picker.changeView(e+1).render()}function pe(i){i.setDate({clear:!0})}function ye(i){let e=C();i.config.todayButtonMode===1?i.setDate(e,{forceRefresh:!0,viewDate:e}):i.setFocusedDate(e,!0)}function we(i){let e=()=>{i.config.updateOnBlur?i.update({revert:!0}):i.refresh("input"),i.hide()},t=i.element;B(t)?t.addEventListener("blur",e,{once:!0}):e()}function ot(i,e){let t=i.picker,s=new Date(t.viewDate),n=t.currentView.id,a=n===1?R(s,e-s.getMonth()):W(s,e-s.getFullYear());t.changeFocus(a).changeView(n-1).render()}function dt(i){ge(i)}function lt(i){Z(i,-1)}function ct(i){Z(i,1)}function ht(i,e){let t=fe(e,".datepicker-cell");if(!t||t.classList.contains("disabled"))return;let{id:s,isMinView:n}=i.picker.currentView,a=t.dataset;n?i.setDate(Number(a.date)):s===1?ot(i,Number(a.month)):ot(i,Number(a.year))}function ut(i){i.preventDefault()}var Fe=["left","top","right","bottom"].reduce((i,e)=>(i[e]=`datepicker-orient-${e}`,i),{}),ft=i=>i&&`${i}px`;function mt(i,e){if("title"in e&&(e.title?(i.controls.title.textContent=e.title,z(i.controls.title)):(i.controls.title.textContent="",K(i.controls.title))),e.prevArrow){let t=i.controls.prevButton;Q(t),e.prevArrow.forEach(s=>{t.appendChild(s.cloneNode(!0))})}if(e.nextArrow){let t=i.controls.nextButton;Q(t),e.nextArrow.forEach(s=>{t.appendChild(s.cloneNode(!0))})}if(e.locale&&(i.controls.todayButton.textContent=e.locale.today,i.controls.clearButton.textContent=e.locale.clear),"todayButton"in e&&(e.todayButton?z(i.controls.todayButton):K(i.controls.todayButton)),"minDate"in e||"maxDate"in e){let{minDate:t,maxDate:s}=i.datepicker.config;i.controls.todayButton.disabled=!$(C(),t,s)}"clearButton"in e&&(e.clearButton?z(i.controls.clearButton):K(i.controls.clearButton))}function gt(i){let{dates:e,config:t,rangeSideIndex:s}=i,n=e.length>0?J(e):O(t.defaultViewDate,t.pickLevel,s);return de(n,t.minDate,t.maxDate)}function pt(i,e){!("_oldViewDate"in i)&&e!==i.viewDate&&(i._oldViewDate=i.viewDate),i.viewDate=e;let{id:t,year:s,first:n,last:a}=i.currentView,r=new Date(e).getFullYear();switch(t){case 0:return e<n||e>a;case 1:return r!==s;default:return r<n||r>a}}function Ae(i){return window.getComputedStyle(i).direction}function yt(i){let e=Oe(i);if(!(e===document.body||!e))return window.getComputedStyle(e).overflow!=="visible"?e:yt(e)}var ne=class{constructor(e){let{config:t,inputField:s}=this.datepicker=e,n=st.replace(/%buttonClass%/g,t.buttonClass),a=this.element=k(n).firstChild,[r,o,l]=a.firstChild.children,d=r.firstElementChild,[h,f,S]=r.lastElementChild.children,[m,w]=l.firstChild.children,u={title:d,prevButton:h,viewSwitch:f,nextButton:S,todayButton:m,clearButton:w};this.main=o,this.controls=u;let D=s?"dropdown":"inline";a.classList.add(`datepicker-${D}`),mt(this,t),this.viewDate=gt(e),U(e,[[a,"mousedown",ut],[o,"click",ht.bind(null,e)],[u.viewSwitch,"click",dt.bind(null,e)],[u.prevButton,"click",lt.bind(null,e)],[u.nextButton,"click",ct.bind(null,e)],[u.todayButton,"click",ye.bind(null,e)],[u.clearButton,"click",pe.bind(null,e)]]),this.views=[new ie(this),new se(this),new X(this,{id:2,name:"years",cellClass:"year",step:1}),new X(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[t.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),t.container?t.container.appendChild(this.element):s.after(this.element)}setOptions(e){mt(this,e),this.views.forEach(t=>{t.init(e,!1)}),this.currentView.render()}detach(){this.element.remove()}show(){if(this.active)return;let{datepicker:e,element:t}=this,s=e.inputField;if(s){let n=Ae(s);n!==Ae(Oe(t))?t.dir=n:t.dir&&t.removeAttribute("dir"),this.place(),t.classList.add("active"),e.config.disableTouchKeyboard&&s.blur()}else t.classList.add("active");this.active=!0,H(e,"show")}hide(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,H(this.datepicker,"hide"))}place(){let{classList:e,style:t}=this.element;t.display="block";let{width:s,height:n}=this.element.getBoundingClientRect(),a=this.element.offsetParent;t.display="";let{config:r,inputField:o}=this.datepicker,{left:l,top:d,right:h,bottom:f,width:S,height:m}=o.getBoundingClientRect(),{x:w,y:u}=r.orientation,D=l,M=d;if(a===document.body||!a)D+=window.scrollX,M+=window.scrollY;else{let p=a.getBoundingClientRect();D-=p.left-a.scrollLeft,M-=p.top-a.scrollTop}let T=yt(o),v=0,F=0,{clientWidth:x,clientHeight:c}=document.documentElement;if(T){let p=T.getBoundingClientRect();p.top>0&&(F=p.top),p.left>0&&(v=p.left),p.right<x&&(x=p.right),p.bottom<c&&(c=p.bottom)}let g=0;w==="auto"&&(l<v?(w="left",g=v-l):l+s>x?(w="right",x<h&&(g=x-h)):Ae(o)==="rtl"?w=h-s<v?"left":"right":w="left"),w==="right"&&(D+=S-s),D+=g,u==="auto"&&(d-n>F?u=f+n>c?"top":"bottom":u="bottom"),u==="top"?M-=n:M+=m,e.remove(...Object.values(Fe)),e.add(Fe[w],Fe[u]),t.left=ft(D),t.top=ft(M)}setViewSwitchLabel(e){this.controls.viewSwitch.textContent=e}setPrevButtonDisabled(e){this.controls.prevButton.disabled=e}setNextButtonDisabled(e){this.controls.nextButton.disabled=e}changeView(e){let t=this.currentView;return e!==t.id&&(this._oldView||(this._oldView=t),this.currentView=this.views[e],this._renderMethod="render"),this}changeFocus(e){return this._renderMethod=pt(this,e)?"render":"refreshFocus",this.views.forEach(t=>{t.updateFocus()}),this}update(e=void 0){let t=e===void 0?gt(this.datepicker):e;return this._renderMethod=pt(this,t)?"render":"refresh",this.views.forEach(s=>{s.updateFocus(),s.updateSelection()}),this}render(e=!0){let{currentView:t,datepicker:s,_oldView:n}=this,a=new Date(this._oldViewDate),r=e&&this._renderMethod||"render";if(delete this._oldView,delete this._oldViewDate,delete this._renderMethod,t[r](),n&&(this.main.replaceChild(t.element,n.element),H(s,"changeView")),!isNaN(a)){let o=new Date(this.viewDate);o.getFullYear()!==a.getFullYear()&&H(s,"changeYear"),o.getMonth()!==a.getMonth()&&H(s,"changeMonth")}}};function wt(i,e,t,s,n,a){if($(i,n,a)){if(s(i)){let r=e(i,t);return wt(r,e,t,s,n,a)}return i}}function Jt(i,e,t){let s=i.picker,n=s.currentView,a=n.step||1,r=s.viewDate,o;switch(n.id){case 0:r=I(r,t?e*7:e),o=I;break;case 1:r=R(r,t?e*4:e),o=R;break;default:r=W(r,e*(t?4:1)*a),o=W}r=wt(r,o,e<0?-a:a,l=>n.disabled.includes(l),n.minDate,n.maxDate),r!==void 0&&s.changeFocus(r).render()}function Dt(i,e){let{config:t,picker:s,editMode:n}=i,a=s.active,{key:r,altKey:o,shiftKey:l}=e,d=e.ctrlKey||e.metaKey,h=()=>{e.preventDefault(),e.stopPropagation()};if(r==="Tab"){we(i);return}if(r==="Enter"){if(!a)i.update();else if(n)i.exitEditMode({update:!0,autohide:t.autohide});else{let u=s.currentView;u.isMinView?i.setDate(s.viewDate):(s.changeView(u.id-1).render(),h())}return}let f=t.shortcutKeys,S={key:r,ctrlOrMetaKey:d,altKey:o,shiftKey:l},m=Object.keys(f).find(u=>{let D=f[u];return!Object.keys(D).find(M=>D[M]!==S[M])});if(m){let u;if(m==="toggle"?u=m:n?m==="exitEditMode"&&(u=m):a?m==="hide"?u=m:m==="prevButton"?u=[Z,[i,-1]]:m==="nextButton"?u=[Z,[i,1]]:m==="viewSwitch"?u=[ge,[i]]:t.clearButton&&m==="clearButton"?u=[pe,[i]]:t.todayButton&&m==="todayButton"&&(u=[ye,[i]]):m==="show"&&(u=m),u){Array.isArray(u)?u[0].apply(null,u[1]):i[u](),h();return}}if(!a||n)return;let w=(u,D)=>{l||d||o?i.enterEditMode():(Jt(i,u,D),e.preventDefault())};r==="ArrowLeft"?w(-1,!1):r==="ArrowRight"?w(1,!1):r==="ArrowUp"?w(-1,!0):r==="ArrowDown"?w(1,!0):(r==="Backspace"||r==="Delete"||r&&r.length===1&&!d)&&i.enterEditMode()}function bt(i){i.config.showOnFocus&&!i._showing&&i.show()}function kt(i,e){let t=e.target;(i.picker.active||i.config.showOnClick)&&(t._active=B(t),t._clicking=setTimeout(()=>{delete t._active,delete t._clicking},2e3))}function vt(i,e){let t=e.target;t._clicking&&(clearTimeout(t._clicking),delete t._clicking,t._active&&i.enterEditMode(),delete t._active,i.config.showOnClick&&i.show())}function xt(i,e){e.clipboardData.types.includes("text/plain")&&i.enterEditMode()}function St(i,e){let{element:t,picker:s}=i;if(!s.active&&!B(t))return;let n=s.element;fe(e,a=>a===t||a===n)||we(i)}function Tt(i,e){return i.map(t=>j(t,e.format,e.locale)).join(e.dateDelimiter)}function Ct(i,e,t=!1){if(e.length===0)return t?[]:void 0;let{config:s,dates:n,rangeSideIndex:a}=i,{pickLevel:r,maxNumberOfDates:o}=s,l=e.reduce((d,h)=>{let f=L(h,s.format,s.locale);return f===void 0||(f=O(f,r,a),$(f,s.minDate,s.maxDate)&&!d.includes(f)&&!s.checkDisabled(f,r)&&(r>0||!s.daysOfWeekDisabled.includes(new Date(f).getDay()))&&d.push(f)),d},[]);if(l.length!==0)return s.multidate&&!t&&(l=l.reduce((d,h)=>(n.includes(h)||d.push(h),d),n.filter(d=>!l.includes(d)))),o&&l.length>o?l.slice(o*-1):l}function De(i,e=3,t=!0,s=void 0){let{config:n,picker:a,inputField:r}=i;if(e&2){let o=a.active?n.pickLevel:n.startView;a.update(s).changeView(o).render(t)}e&1&&r&&(r.value=Tt(i.dates,n))}function Mt(i,e,t){let s=i.config,{clear:n,render:a,autohide:r,revert:o,forceRefresh:l,viewDate:d}=t;a===void 0&&(a=!0),a?r===void 0&&(r=s.autohide):r=l=!1,d=L(d,s.format,s.locale);let h=Ct(i,e,n);!h&&!o||(h&&h.toString()!==i.dates.toString()?(i.dates=h,De(i,a?3:1,!0,d),H(i,"changeDate")):De(i,l?3:1,!0,d),r&&i.hide())}function Ot(i,e){return e?t=>j(t,e,i.config.locale):t=>new Date(t)}var Y=class{constructor(e,t={},s=void 0){e.datepicker=this,this.element=e,this.dates=[];let n=this.config=Object.assign({buttonClass:t.buttonClass&&String(t.buttonClass)||"button",container:null,defaultViewDate:C(),maxDate:void 0,minDate:void 0},te(ee,this)),a;if(e.tagName==="INPUT"?(a=this.inputField=e,a.classList.add("datepicker-input"),t.container&&(n.container=t.container instanceof HTMLElement?t.container:document.querySelector(t.container))):n.container=e,s){let h=s.inputs.indexOf(a),f=s.datepickers;if(h<0||h>1||!Array.isArray(f))throw Error("Invalid rangepicker object.");f[h]=this,this.rangepicker=s,this.rangeSideIndex=h}this._options=t,Object.assign(n,te(t,this)),n.shortcutKeys=Ne(t.shortcutKeys||{});let r=Se(e.value||e.dataset.date,n.dateDelimiter);delete e.dataset.date;let o=Ct(this,r);o&&o.length>0&&(this.dates=o),a&&(a.value=Tt(this.dates,n));let l=this.picker=new ne(this),d=[e,"keydown",Dt.bind(null,this)];a?U(this,[d,[a,"focus",bt.bind(null,this)],[a,"mousedown",kt.bind(null,this)],[a,"click",vt.bind(null,this)],[a,"paste",xt.bind(null,this)],[document,"mousedown",St.bind(null,this)],[window,"resize",l.place.bind(l)]]):(U(this,[d]),this.show())}static formatDate(e,t,s){return j(e,t,s&&q[s]||q.en)}static parseDate(e,t,s){return L(e,t,s&&q[s]||q.en)}static get locales(){return q}get active(){return!!(this.picker&&this.picker.active)}get pickerElement(){return this.picker?this.picker.element:void 0}setOptions(e){let t=te(e,this);Object.assign(this._options,e),Object.assign(this.config,t),this.picker.setOptions(t),De(this,3)}show(){if(this.inputField){let{config:e,inputField:t}=this;if(t.disabled||t.readOnly&&!e.enableOnReadonly)return;!B(t)&&!e.disableTouchKeyboard&&(this._showing=!0,t.focus(),delete this._showing)}this.picker.show()}hide(){this.inputField&&(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}toggle(){this.picker.active?this.inputField&&this.picker.hide():this.show()}destroy(){this.hide(),Te(this),this.picker.detach();let e=this.element;return e.classList.remove("datepicker-input"),delete e.datepicker,this}getDate(e=void 0){let t=Ot(this,e);if(this.config.multidate)return this.dates.map(t);if(this.dates.length>0)return t(this.dates[0])}setDate(...e){let t=[...e],s={},n=J(e);n&&typeof n=="object"&&!Array.isArray(n)&&!(n instanceof Date)&&Object.assign(s,t.pop());let a=Array.isArray(t[0])?t[0]:t;Mt(this,a,s)}update(e=void 0){if(!this.inputField)return;let t=Object.assign(e||{},{clear:!0,render:!0,viewDate:void 0}),s=Se(this.inputField.value,this.config.dateDelimiter);Mt(this,s,t)}getFocusedDate(e=void 0){return Ot(this,e)(this.picker.viewDate)}setFocusedDate(e,t=!1){let{config:s,picker:n,active:a,rangeSideIndex:r}=this,o=s.pickLevel,l=L(e,s.format,s.locale);l!==void 0&&(n.changeFocus(O(l,o,r)),a&&t&&n.changeView(o),n.render())}refresh(e=void 0,t=!1){e&&typeof e!="string"&&(t=e,e=void 0);let s;e==="picker"?s=2:e==="input"?s=1:s=3,De(this,s,!t)}enterEditMode(){let e=this.inputField;!e||e.readOnly||!this.picker.active||this.editMode||(this.editMode=!0,e.classList.add("in-edit"))}exitEditMode(e=void 0){if(!this.inputField||!this.editMode)return;let t=Object.assign({update:!1},e);delete this.editMode,this.inputField.classList.remove("in-edit"),t.update&&this.update(t)}};Object.assign(Y.locales,_e);var ae=class extends be.Modal{constructor(t,s,n){super(t);this._settings=s;this._editor=n;this._isSelected=!1;this._isClosed=!1}onOpen(){this.modalEl.addClass("date-inserter-modal");let t=this.contentEl.createEl("input");t.addClass("invisible-input"),t.setAttrs({type:"text",readonly:!0});let s=this.generateOptions(this._settings),n=new Y(t,s);n.show(),t.addEventListener("hide",a=>{setTimeout(()=>{this._isClosed||(n.show(),n.setFocusedDate(a.detail.viewDate))},0)}),t.addEventListener("changeDate",()=>{this._isSelected||(this._isSelected=!0,this._editor?this.insertDateToCursorPosition(t.value,this._editor):navigator.clipboard&&navigator.clipboard.writeText(t.value).then(()=>new be.Notice("Date copied to clipboard.")),setTimeout(()=>this.close(),0))}),this._settings.format2&&this.setupFormatButtons(n)}onClose(){this._isClosed=!0,this.contentEl.empty()}insertDateToCursorPosition(t,s){let n=s.getCursor("from"),a=s.getCursor("to");s.replaceRange(t,n,a),s.setCursor(n.line,n.ch+t.length)}generateOptions(t){let{sun:s,mon:n,tue:a,wed:r,thu:o,fri:l,sat:d}=t.daysOfWeekHighlighted,h=[s,n,a,r,o,l,d].filter(S=>S!==void 0),f={language:t.language,daysOfWeekHighlighted:h,weekStart:t.weekStart,todayHighlight:t.todayHighlight};return t.format&&(f.format=t.format),f}setupFormatButtons(t){this.contentEl.createDiv("format-buttons",s=>{let{format:n,format2:a}=this._settings,r=s.createEl("button");r.createSpan("").textContent=n||oe.format,r.addEventListener("click",()=>{t.config.format=n,r.addClass("selected"),o.removeClass("selected")}),r.addClass("selected");let o=s.createEl("button");o.createSpan("").textContent=a,o.addEventListener("click",()=>{t.config.format=a,o.addClass("selected"),r.removeClass("selected")}),this.modalEl.addEventListener("keyup",l=>{switch(l.key){case"1":r.click();break;case"2":o.click();break;default:}})})}};var ke=class extends Et.Plugin{async onload(){await this.loadSettings(),this.addCommand({id:"open-calendar",name:"Open Calendar",editorCallback:e=>{new ae(this.app,this.settings,e).open()}}),this.addCommand({id:"copy-date-to-clipboard",name:"Copy Date to Clipboard",callback:()=>{new ae(this.app,this.settings).open()}}),this._settingTab=new re(this.app,this),this.addSettingTab(this._settingTab),this._settingTab.updateStyleSheet()}onunload(){this._settingTab.updateStyleSheet(!0)}async loadSettings(){this.settings=Object.assign({},oe,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};

/* nosourcemap */